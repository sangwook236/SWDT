[-] General.
	- Site.
		http://hciweb2.iwr.uni-heidelberg.de/opengm/

		https://github.com/opengm
		https://github.com/opengm-externals

[-] Usage.
    - OpenGM library는 사용할 때 header file만 있으면 됨.
		OpenGM library를 사용하기 위해 link해야 하는 static or shared library file은 없음.
    - Need to link external libraries in order to use OpenGM in client applications.

    - opengm-externals repository는 필요없는 것으로 판단됨 (2016/04/29).

[-] Building GitHub (CMake): 2016/05/04.
	- Prepare to download external libraries (configure & generate).
		External library를 사용하기 위해서 WITH_xxx options을 설정하고 configure하면 아래의 경고 발생.
		<error>
			QPBO not installed, run make externalLibs first and configure again
			TRWS not installed, run make externalLibs first and configure again
			MAXFLOW not installed, run make externalLibs first and configure again
			MAXFLOW_IBFS not installed, run make externalLibs first and configure again
			MRF not installed, run make externalLibs first and configure again
		<solution>
			위의 경고가 나오더라도 CMake에서 configure & generate를 수행할 수 있음.
			Configure & generate를 완료하여 project 생성.
	- Download external libraries.
		<method 1>
			Unix-like system:
				생성된 Makefile을 찾아 "make externalLibs"를 수행. (확인 필요)
			Windows:
				생성된 solution을 열고 externalLibs project를 build.
		<method 2>
		    아래의 directory에서 patch를 위한 shell script를 실행.
				${OPENGM_HOME}/src/external/patches/ConicBundle
				${OPENGM_HOME}/src/external/patches/IBFS
				${OPENGM_HOME}/src/external/patches/MaxFlow
				${OPENGM_HOME}/src/external/patches/MRF
				${OPENGM_HOME}/src/external/patches/QPBO
				${OPENGM_HOME}/src/external/patches/TRWS
			Windows 환경에서는 Cygwin을 이용해서 patch 수행.
			Patch script를 실행하면 external library를 download해서 patch를 수행.
		<result>
			아래의 directory에 download 후 patch된 external library file이 저장.
				${OPENGM_HOME}/src/external/ConicBundle-v0.3.11.src-patched
				${OPENGM_HOME}/src/external/MaxFlow-v3.02.src-patched
				${OPENGM_HOME}/src/external/ibfs.src-patched
				${OPENGM_HOME}/src/external/MRF-v2.1.src-patched
				${OPENGM_HOME}/src/external/QPBO-v1.3.src-patched
				${OPENGM_HOME}/src/external/TRWS-v1.3.src-patched
	- Configure and generate.
		Set CMAKE_DEBUG_POSTFIX to d.
		External libraries를 download 후에 CMake를 다시 실행한 수 configure and generate 다시 수행.
			downloaded external libraries를 위한 project 생성 위해.
		Unset BUILD_TESTING.
			Many errors arise in test projects
		Check directories of downloaded external libraries.
			MAXFLOW_PATCHEDSRCDIR
			MAXFLOW_IBFS_PATCHEDSRCDIR
			MRF_PATCHEDSRCDIR
			QPBO_PATCHEDSRCDIR
			TRWS_PATCHEDSRCDIR
	- Build.
		Windows에서는 ConicBundle의 building을 실패.
			Linux에서는 build 가능.
		Built external libraries는 ${OPENGM_HOME}/build_xxx/src/external/Release & Debug directory에 생성.
		    libexternal-library-maxflow-ibfs.a / external-library-maxflow-ibfs.lib
		    libexternal-library-maxflow.a / external-library-maxflow.lib
		    libexternal-library-mrf.a / external-library-mrf.lib
		    libexternal-library-qpbo.a / external-library-qpbo.lib
		    libexternal-library-trws.a / external-library-trws.lib
	- Install.
		Install header files only.
		Install external libraries to ${INSTALL_PREFIX}/lib/opengm/externals.
		==> Check if external libraries are copied to ${INSTALL_PREFIX} individually.

[-] Trouble Shooting (Common).
    - 함수의 중복 정의에 대한 오류 발생.
        header file에 function definition이 포함되어 있어 발생하는 문제.
            ${OPENGM_HOME}/include/opengm/graphicalmodel/decomposition/graphicalmodeldecomposition.hxx
        ==> 해당 function을 inline function으로 변경하면 됨.
            void GraphicalModelDecomposition::complete() -> inline void GraphicalModelDecomposition::complete()
            void GraphicalModelDecomposition::reorder() -> inline void GraphicalModelDecomposition::reorder()

[-] Trouble Shooting (VC).
	- HDF5 library 관련 linking error.
		<cause>
			HDF5 shared library를 정상적으로 link하지 못함.
		<solution>
			Link with HDF5 as a shared library.
				define _HDF5USEDLL_.
			Link with HDF5 as a static library.
			==> Shared library를 사용하는 경우 linking error가 없어지지 않는 듯함.

	- Linking error with HDF in photomontage-merging & photomontage-stitching projects.
		Link HDF5 as static libraries.
			${INSTALL_PREFIX}/libhdf5.lib
			${INSTALL_PREFIX}/libhdf5_hl.lib

	- Test를 building하면서 잦은 오류가 발생해서 test는 building에서 제외.
		CMake GUI에서 BUILD_TESTING 항목을 지정하지 않음.
	- Matlab을 사용하는 경우 32bit인지 64bit인지 확인 필요.
		CMake GUI에서 Configure하면 아래와 같은 정보가 출력.
			Detected a 32 Bit Machine
		==> CMake GUI에서 아래의 항목을 적절히 설정해야 함.
				MATLAB -> ${MATLAB_HOME} (???)
				MEXEXT -> mexw32 / mexw64 (Windows), mexglx / mexa64 (Linux) (???)
					이 항목을 값을 변경해도 실제 적용이 되지 않는 듯함.
				MATLAB_INCLUDE_DIR
				MATLAB_LIBRARY_DIR
	- boost::get 관련 오류 발생.
		==> MSVC에서 제공하는 get과 충돌하는 문제인 듯함.
			아래와 같이 수정.
			<before>
			get(m_time_map, current_vertex)
			<after>
			boost::get(m_time_map, current_vertex)
	- libDAI library와 관계된 project building 시에 아래와 같은 오류 발생.
		Cannot open include file: 'tr1/unordered_map': No such file or directory
		==> WINDOWS macro가 정의되어 않지 않아서 발생.
			_WINDOWS macro는 정의되어 있음.
			<before>
			#if defined(WINDOWS)
			<after>
			#if defined(WINDOWS) || defined(_WINDOWS)
	- OpenGM library가 사용하는 external library와 관련하여 _ITERATOR_DEBUG_LEVEL 오류 발생.
		<error>
			mismatch detected for '_ITERATOR_DEBUG_LEVEL': value '0' doesn't match value '2'
		libDAI library
		external MRF library
		==> OpenGM library가 linking하는 external library의 build mode가 달라서 발생.
			release build (libdai.lib) or debug build (libdai_d.lib)가 일치하도록 linking library을 설정해야 함.
			release build (external-library-mrf.lib) or debug build (external-library-mrf.lib)가 일치하도록 linking library을 설정해야 함.
				release build: ${OPENGM_HOME}/build_msvc10/src/external/Release
				debug build: ${OPENGM_HOME}/build_msvc10/src/external/Debug
	- __mpz_struct와 관계된 ostream 오류 발생.
		unresolved external symbol "__declspec(dllimport) class std::basic_ostream<char,struct std::char_traits<char> > & __cdecl operator<<(class std::basic_ostream<char,struct std::char_traits<char> > &,struct __mpz_struct const *)"
		==> GMP library와의 linking에서 문제가 있는 듯함.
			GMP library 대신에 MPIR library를 사용해 해결.
			MPIR library는 GMP library를 포함하고 있음.
			MPIR library를 Windows 환경에서 building 가능.
	- Matlab mex와 관련된 오류 발생.
		invalid numeric argument '/Wl,--version-script,/server/opt/matlab/mexFunction.map'
		==> opengmBuild.mexa64는 64bit Linux용 mex file인 듯함.
			Matlab에서 OpenGM을 사용하지 않는다면 무시해도 됨.
		==> 오류를 없애고자 한다면 C/C++ compiler option의 Command Line options에서 해당 설정을 삭제.
	- Class template & function template에서 원인이 불분명한 오류 발생.
		<error>
			use of undefined type 'opengm::meta::GetIndexInTypeList<TL,TypeToFindx>'
				at line 592 in opengm\utilities\metaprogramming.hxx
			cannot convert parameter 1 from 'const ExplicitFunction' to 'opengm::ExplicitFunction<T> &&'
				at line 597 in opengm\graphicalmodel\graphicalmodel.hxx
		==> 사용하는 graphical model, space, function 등에 사용되는 type (e.g.: float, double, etc)이 상이해서 발생.

[-] Trouble Shooting (GCC).
	- Class template & function template에서 원인이 불분명한 오류 발생.
		<error>
			incomplete type 'opengm::meta::GetIndexInTypeList<opengm::meta::ListEnd, opengm::ExplicitFunction<float> >' used in nested name specifier
				at line 591 in /usr/local/include/opengm/utilities/metaprogramming.hxx
			no matching function for call to 'std::vector<opengm::ExplicitFunction<double, long unsigned int, long unsigned int>, std::allocator<opengm::ExplicitFunction<double, long unsigned int, long unsigned int> > >::push_back(const opengm::ExplicitFunction<float>&)'
				at line 597 in /usr/local/include/opengm/graphicalmodel/graphicalmodel.hxx
		==> 사용하는 graphical model, space, function 등에 사용되는 type (e.g.: float, double, etc)이 상이해서 발생.
